!function(e){"use strict";var t="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,n=t||o||Function("return this")(),i=n.Symbol,r=Object.prototype,a=r.hasOwnProperty,s=r.toString,c=i?i.toStringTag:void 0;var l=Object.prototype.toString;var d=i?i.toStringTag:void 0;function u(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?function(e){var t=a.call(e,c),o=e[c];try{e[c]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[c]=o:delete e[c]),i}(e):function(e){return l.call(e)}(e)}var m=/\s/;var p=/^\s+/;function f(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&m.test(e.charAt(t)););return t}(e)+1).replace(p,""):e}function h(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var v=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,y=/^0o[0-7]+$/i,w=parseInt;function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==u(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=f(e);var o=g.test(e);return o||y.test(e)?w(e.slice(2),o?2:8):v.test(e)?NaN:+e}var z=function(){return n.Date.now()},k=Math.max,E=Math.min;var S=e.defineComponent({name:"el-collapse-transition",data:()=>({on:{beforeEnter(e){e.classList.add("collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){e.classList.remove("collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(e.classList.add("collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){e.classList.remove("collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}})});S.render=function(t,o,n,i,r,a){return e.openBlock(),e.createBlock(e.Transition,e.toHandlers(t.on),{default:e.withCtx((()=>[e.renderSlot(t.$slots,"default")])),_:3},16)};var L=e.defineComponent({name:"blog-toc-ul",components:{"el-collapse-transition":S},props:{listData:Object},methods:{btnClick(e){e.show=!e.show}}});const C=e.withScopeId("data-v-6db54539");e.pushScopeId("data-v-6db54539");const T={class:"toc-collapse"},x=e.createVNode("i",{class:"material-icons"},"chevron_right",-1);e.popScopeId();const O=C(((t,o,n,i,r,a)=>{const s=e.resolveComponent("blog-toc-ul",!0),c=e.resolveComponent("el-collapse-transition");return e.openBlock(),e.createBlock(c,null,{default:C((()=>[e.withDirectives(e.createVNode("div",null,[e.createVNode("ul",T,[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(t.listData.items,(o=>(e.openBlock(),e.createBlock("li",{key:o.anchor,"data-toc-toggle":!!o.children},[o.children?(e.openBlock(),e.createBlock("span",{key:0,onClick:e=>t.btnClick(o.children),class:["btn-toc-collapse",{"sub-toc-close":!o.children.show,"sub-toc-open":o.children.show}]},[x],10,["onClick"])):e.createCommentVNode("",!0),e.createVNode("span",null,[e.createVNode("a",{href:o.anchor,class:{"toc-active":o.active},textContent:e.toDisplayString(o.label)},null,10,["href","textContent"])]),o.children?(e.openBlock(),e.createBlock(s,{key:1,"list-data":o.children},null,8,["list-data"])):e.createCommentVNode("",!0)],8,["data-toc-toggle"])))),128))])],512),[[e.vShow,t.listData.show]])])),_:1})}));L.render=O,L.__scopeId="data-v-6db54539";var j=e.defineComponent({name:"blog-toc",components:{"blog-toc-ul":L},props:{tocList:{type:Object,require:!0},activeAnchor:String,autoCollapse:Boolean},setup(t){let o=(e,t)=>{for(const n of e.items){if(n.anchor===t)return!0;if(n.children&&o(n.children,t))return!0}return!1},n=(e,t)=>{let o=!1;return e.items.forEach((e=>{if(e.children){let i=n(e.children,t);o=o||i}e.active=e.anchor===t,o=o||e.active})),e.show=o,o};return{listRef:e.computed((()=>(o(t.tocList,t.activeAnchor)&&n(t.tocList,t.activeAnchor),t.tocList)))}}});const H=e.withScopeId("data-v-0a1f0a6e");e.pushScopeId("data-v-0a1f0a6e");const B={class:"toc"},A={class:"toc-content"},N={key:0,class:"toc-title"};e.popScopeId();const P=H(((t,o,n,i,r,a)=>{const s=e.resolveComponent("blog-toc-ul");return e.openBlock(),e.createBlock("div",B,[e.createVNode("div",A,[t.tocList?(e.openBlock(),e.createBlock("div",N,"- 目录 -")):e.createCommentVNode("",!0),e.createVNode(s,{"list-data":t.listRef},null,8,["list-data"])])])}));j.render=P,j.__scopeId="data-v-0a1f0a6e";
/*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */
var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},D=function(e){return"IMG"===e.tagName},M=function(e){return e&&1===e.nodeType},W=function(e){return".svg"===(e.currentSrc||e.src).substr(-4).toLowerCase()},V=function(e){try{return Array.isArray(e)?e.filter(D):function(e){return NodeList.prototype.isPrototypeOf(e)}(e)?[].slice.call(e).filter(D):M(e)?[e].filter(D):"string"==typeof e?[].slice.call(document.querySelectorAll(e)).filter(D):[]}catch(e){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},R=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=e,t},$=function(e){var t=e.getBoundingClientRect(),o=t.top,n=t.left,i=t.width,r=t.height,a=e.cloneNode(),s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=o+s+"px",a.style.left=n+c+"px",a.style.width=i+"px",a.style.height=r+"px",a.style.transform="",a},q=function(e,t){var o=I({bubbles:!1,cancelable:!1,detail:void 0},t);if("function"==typeof window.CustomEvent)return new CustomEvent(e,o);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,o.bubbles,o.cancelable,o.detail),n},U=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.Promise||function(e){function t(){}e(t,t)},i=function(e){var t=e.target;t!==L?-1!==w.indexOf(t)&&h({target:t}):f()},r=function(){if(!z&&S.original){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(k-e)>E.scrollOffset&&setTimeout(f,150)}},a=function(e){var t=e.key||e.keyCode;"Escape"!==t&&"Esc"!==t&&27!==t||f()},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;if(e.background&&(L.style.background=e.background),e.container&&e.container instanceof Object&&(t.container=I({},E.container,e.container)),e.template){var o=M(e.template)?e.template:document.querySelector(e.template);t.template=o}return E=I({},E,t),w.forEach((function(e){e.dispatchEvent(q("medium-zoom:update",{detail:{zoom:C}}))})),C},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(I({},E,t))},l=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t.reduce((function(e,t){return[].concat(e,V(t))}),[]);return n.filter((function(e){return-1===w.indexOf(e)})).forEach((function(e){w.push(e),e.classList.add("medium-zoom-image")})),b.forEach((function(e){var t=e.type,o=e.listener,i=e.options;n.forEach((function(e){e.addEventListener(t,o,i)}))})),C},d=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];S.zoomed&&f();var n=t.length>0?t.reduce((function(e,t){return[].concat(e,V(t))}),[]):w;return n.forEach((function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(q("medium-zoom:detach",{detail:{zoom:C}}))})),w=w.filter((function(e){return-1===n.indexOf(e)})),C},u=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return w.forEach((function(n){n.addEventListener("medium-zoom:"+e,t,o)})),b.push({type:"medium-zoom:"+e,listener:t,options:o}),C},m=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return w.forEach((function(n){n.removeEventListener("medium-zoom:"+e,t,o)})),b=b.filter((function(o){return!(o.type==="medium-zoom:"+e&&o.listener.toString()===t.toString())})),C},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,o=function(){var e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},t=void 0,o=void 0;if(E.container)if(E.container instanceof Object)t=(e=I({},e,E.container)).width-e.left-e.right-2*E.margin,o=e.height-e.top-e.bottom-2*E.margin;else{var n=(M(E.container)?E.container:document.querySelector(E.container)).getBoundingClientRect(),i=n.width,r=n.height,a=n.left,s=n.top;e=I({},e,{width:i,height:r,left:a,top:s})}t=t||e.width-2*E.margin,o=o||e.height-2*E.margin;var c=S.zoomedHd||S.original,l=W(c)?t:c.naturalWidth||t,d=W(c)?o:c.naturalHeight||o,u=c.getBoundingClientRect(),m=u.top,p=u.left,f=u.width,h=u.height,v=Math.min(l,t)/f,g=Math.min(d,o)/h,y=Math.min(v,g),w="scale("+y+") translate3d("+((t-f)/2-p+E.margin+e.left)/y+"px, "+((o-h)/2-m+E.margin+e.top)/y+"px, 0)";S.zoomed.style.transform=w,S.zoomedHd&&(S.zoomedHd.style.transform=w)};return new n((function(e){if(t&&-1===w.indexOf(t))e(C);else{if(S.zoomed)e(C);else{if(t)S.original=t;else{if(!(w.length>0))return void e(C);var n=w;S.original=n[0]}if(S.original.dispatchEvent(q("medium-zoom:open",{detail:{zoom:C}})),k=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,z=!0,S.zoomed=$(S.original),document.body.appendChild(L),E.template){var i=M(E.template)?E.template:document.querySelector(E.template);S.template=document.createElement("div"),S.template.appendChild(i.content.cloneNode(!0)),document.body.appendChild(S.template)}if(document.body.appendChild(S.zoomed),window.requestAnimationFrame((function(){document.body.classList.add("medium-zoom--opened")})),S.original.classList.add("medium-zoom-image--hidden"),S.zoomed.classList.add("medium-zoom-image--opened"),S.zoomed.addEventListener("click",f),S.zoomed.addEventListener("transitionend",(function t(){z=!1,S.zoomed.removeEventListener("transitionend",t),S.original.dispatchEvent(q("medium-zoom:opened",{detail:{zoom:C}})),e(C)})),S.original.getAttribute("data-zoom-src")){S.zoomedHd=S.zoomed.cloneNode(),S.zoomedHd.removeAttribute("srcset"),S.zoomedHd.removeAttribute("sizes"),S.zoomedHd.src=S.zoomed.getAttribute("data-zoom-src"),S.zoomedHd.onerror=function(){clearInterval(r),console.warn("Unable to reach the zoom image target "+S.zoomedHd.src),S.zoomedHd=null,o()};var r=setInterval((function(){S.zoomedHd.complete&&(clearInterval(r),S.zoomedHd.classList.add("medium-zoom-image--opened"),S.zoomedHd.addEventListener("click",f),document.body.appendChild(S.zoomedHd),o())}),10)}else if(S.original.hasAttribute("srcset")){S.zoomedHd=S.zoomed.cloneNode(),S.zoomedHd.removeAttribute("sizes"),S.zoomedHd.removeAttribute("loading");var a=S.zoomedHd.addEventListener("load",(function(){S.zoomedHd.removeEventListener("load",a),S.zoomedHd.classList.add("medium-zoom-image--opened"),S.zoomedHd.addEventListener("click",f),document.body.appendChild(S.zoomedHd),o()}))}else o()}}}))},f=function(){return new n((function(e){if(!z&&S.original){z=!0,document.body.classList.remove("medium-zoom--opened"),S.zoomed.style.transform="",S.zoomedHd&&(S.zoomedHd.style.transform=""),S.template&&(S.template.style.transition="opacity 150ms",S.template.style.opacity=0),S.original.dispatchEvent(q("medium-zoom:close",{detail:{zoom:C}})),S.zoomed.addEventListener("transitionend",(function t(){S.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(S.zoomed),S.zoomedHd&&document.body.removeChild(S.zoomedHd),document.body.removeChild(L),S.zoomed.classList.remove("medium-zoom-image--opened"),S.template&&document.body.removeChild(S.template),z=!1,S.zoomed.removeEventListener("transitionend",t),S.original.dispatchEvent(q("medium-zoom:closed",{detail:{zoom:C}})),S.original=null,S.zoomed=null,S.zoomedHd=null,S.template=null,e(C)}))}else e(C)}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target;return S.original?f():p({target:t})},v=function(){return E},g=function(){return w},y=function(){return S.original},w=[],b=[],z=!1,k=0,E=o,S={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(t)?E=t:(t||"string"==typeof t)&&l(t),E=I({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},E);var L=R(E.background);document.addEventListener("click",i),document.addEventListener("keyup",a),document.addEventListener("scroll",r),window.addEventListener("resize",f);var C={open:p,close:f,toggle:h,update:s,clone:c,attach:l,detach:d,on:u,off:m,getOptions:v,getImages:g,getZoomedImage:y};return C};!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}");try{self["workbox:window:6.1.5"]&&_()}catch(Y){}function Y(e,t){return new Promise((function(o){var n=new MessageChannel;n.port1.onmessage=function(e){o(e.data)},e.postMessage(t,[n.port2])}))}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function Z(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return F(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=e[Symbol.iterator]()).next.bind(o)}try{self["workbox:core:6.1.5"]&&_()}catch(Y){}var G=function(){var e=this;this.promise=new Promise((function(t,o){e.resolve=t,e.reject=o}))};function K(e,t){var o=location.href;return new URL(e,o).href===new URL(t,o).href}var Q=function(e,t){this.type=e,Object.assign(this,t)};function X(e,t,o){return o?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function J(){}var ee={type:"SKIP_WAITING"};function te(e,t){if(!t)return e&&e.then?e.then(J):Promise.resolve()}var oe=function(e){var t,o;function n(t,o){var n,i;return void 0===o&&(o={}),(n=e.call(this)||this).nn={},n.tn=0,n.rn=new G,n.en=new G,n.on=new G,n.un=0,n.an=new Set,n.cn=function(){var e=n.fn,t=e.installing;n.tn>0||!K(t.scriptURL,n.sn)||performance.now()>n.un+6e4?(n.vn=t,e.removeEventListener("updatefound",n.cn)):(n.hn=t,n.an.add(t),n.rn.resolve(t)),++n.tn,t.addEventListener("statechange",n.ln)},n.ln=function(e){var t=n.fn,o=e.target,i=o.state,r=o===n.vn,a={sw:o,isExternal:r,originalEvent:e};!r&&n.mn&&(a.isUpdate=!0),n.dispatchEvent(new Q(i,a)),"installed"===i?n.wn=self.setTimeout((function(){"installed"===i&&t.waiting===o&&n.dispatchEvent(new Q("waiting",a))}),200):"activating"===i&&(clearTimeout(n.wn),r||n.en.resolve(o))},n.dn=function(e){var t=n.hn,o=t!==navigator.serviceWorker.controller;n.dispatchEvent(new Q("controlling",{isExternal:o,originalEvent:e,sw:t,isUpdate:n.mn})),o||n.on.resolve(t)},n.gn=(i=function(e){var t=e.data,o=e.source;return X(n.getSW(),(function(){n.an.has(o)&&n.dispatchEvent(new Q("message",{data:t,sw:o,originalEvent:e}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(i.apply(this,e))}catch(e){return Promise.reject(e)}}),n.sn=t,n.nn=o,navigator.serviceWorker.addEventListener("message",n.gn),n}o=e,(t=n).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o;var i,r=n.prototype;return r.register=function(e){var t=(void 0===e?{}:e).immediate,o=void 0!==t&&t;try{var n=this;return function(e,t){var o=e();return o&&o.then?o.then(t):t()}((function(){if(!o&&"complete"!==document.readyState)return te(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return n.mn=Boolean(navigator.serviceWorker.controller),n.yn=n.pn(),X(n.bn(),(function(e){n.fn=e,n.yn&&(n.hn=n.yn,n.en.resolve(n.yn),n.on.resolve(n.yn),n.yn.addEventListener("statechange",n.ln,{once:!0}));var t=n.fn.waiting;return t&&K(t.scriptURL,n.sn)&&(n.hn=t,Promise.resolve().then((function(){n.dispatchEvent(new Q("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),n.hn&&(n.rn.resolve(n.hn),n.an.add(n.hn)),n.fn.addEventListener("updatefound",n.cn),navigator.serviceWorker.addEventListener("controllerchange",n.dn,{once:!0}),n.fn}))}))}catch(e){return Promise.reject(e)}},r.update=function(){try{return this.fn?te(this.fn.update()):void 0}catch(e){return Promise.reject(e)}},r.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},r.messageSW=function(e){try{return X(this.getSW(),(function(t){return Y(t,e)}))}catch(e){return Promise.reject(e)}},r.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Y(this.fn.waiting,ee)},r.pn=function(){var e=navigator.serviceWorker.controller;return e&&K(e.scriptURL,this.sn)?e:void 0},r.bn=function(){try{var e=this;return function(e,t){try{var o=e()}catch(e){return t(e)}return o&&o.then?o.then(void 0,t):o}((function(){return X(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(n.prototype,i),n}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this.Sn(e).add(t)},t.removeEventListener=function(e,t){this.Sn(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,o=Z(this.Sn(e.type));!(t=o()).done;)(0,t.value)(e)},t.Sn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},e}()),ne=e.defineComponent({name:"blog-notification",props:{title:{type:String,default:""},message:{type:[String,Object],default:""},id:{type:String,default:""},duration:{type:Number,default:4500},offset:{type:Number,default:0},position:{type:String,default:"top"},onClick:{type:Function,default:()=>{}},onClose:{type:Function,default:()=>{}}},emits:["destroy"],setup(t){const o=e.ref(!1);let n=null;function i(){t.duration>0&&(n=setTimeout((()=>{o.value&&r()}),t.duration))}function r(){o.value=!1}e.onMounted((()=>{i(),o.value=!0}));const a=e.computed((()=>t.position.startsWith("top")?"top":"bottom")),s=e.computed((()=>({[a.value]:`${t.offset}px`})));return{visible:o,positionStyle:s,startTimer:i,clearTimer:function(){clearTimeout(n),n=null},close:r}}});const ie={class:"tj-notification__group"},re={class:"tj-notification__content"},ae=e.createVNode("span",{class:"material-icons"},"close",-1);ne.render=function(t,o,n,i,r,a){return e.openBlock(),e.createBlock(e.Transition,{name:"tj-notification-fade",onBeforeLeave:t.onClose,onAfterLeave:o[5]||(o[5]=e=>t.$emit("destroy"))},{default:e.withCtx((()=>[e.withDirectives(e.createVNode("div",{class:"tj-notification",style:t.positionStyle,id:t.id,onMouseenter:o[2]||(o[2]=(...e)=>t.clearTimer&&t.clearTimer(...e)),onMouseleave:o[3]||(o[3]=(...e)=>t.startTimer&&t.startTimer(...e)),onClick:o[4]||(o[4]=(...e)=>t.onClick&&t.onClick(...e))},[e.createVNode("div",ie,[e.createVNode("h2",{class:"tj-notification__title",textContent:e.toDisplayString(t.title)},null,8,["textContent"]),e.withDirectives(e.createVNode("div",re,[e.renderSlot(t.$slots,"default",{},(()=>[e.createVNode("p",{textContent:e.toDisplayString(t.message)},null,8,["textContent"])]))],512),[[e.vShow,t.message]]),e.createVNode("div",{class:"tj-notification__closeBtn",onClick:o[1]||(o[1]=e.withModifiers(((...e)=>t.close&&t.close(...e)),["stop"]))},[ae])])],44,["id"]),[[e.vShow,t.visible]])])),_:3},8,["onBeforeLeave"])};const se={top:[],bottom:[]};let ce=1;const le=function(t){const o=t.position||"top";let n=t.offset||0;se[o].forEach((({vm:e})=>{n+=(e.el.offsetHeight||0)+16})),n+=16;const i="notification_"+ce++,r=t.onClose;t={...t,onClose:()=>{!function(e,t,o){const n=se[t],i=n.findIndex((({vm:t})=>t.component.props.id===e));if(-1===i)return;const{vm:r}=n[i];if(!r)return;o?.(r);const a=r.el.offsetHeight,s=t.split("-")[0];n.splice(i,1);const c=n.length;if(c<1)return;for(let e=i;e<c;e++){const{el:t,component:o}=n[e].vm;o.props.offset=parseInt(t.style[s],10)-a-16}}(i,o,r)},offset:n,id:i};const a=document.createElement("div"),s=e.createVNode(ne,t);return s.props.onDestroy=()=>{e.render(null,a)},e.render(s,a),se[o].push({vm:s}),document.body.appendChild(a.firstElementChild),{close:()=>{s.component.proxy.visible=!1}}};le.install=e=>{e.config.globalProperties.$notify=le};const de=e.createApp({data:()=>({scrollY:0,navOpacity:0,isDrawerOpen:!1,mounted:!1,isDarkMode:!1,zoom:null,anchors:[],tocCollapses:null,tocEl:null,tocData:null,hasToc:!1,isMobile:!1,activeAnchor:""}),methods:{sgn:(e,t)=>t<=e?0:t>=1-e?1:1/(1-2*e)*(t-e),handleScroll:function(e,t,o){var n,i,r,a,s,c,l=0,d=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var o=n,r=i;return n=i=void 0,l=t,a=e.apply(r,o)}function f(e){return l=e,s=setTimeout(g,t),d?p(e):a}function v(e){var o=e-c;return void 0===c||o>=t||o<0||u&&e-l>=r}function g(){var e=z();if(v(e))return y(e);s=setTimeout(g,function(e){var o=t-(e-c);return u?E(o,r-(e-l)):o}(e))}function y(e){return s=void 0,m&&n?p(e):(n=i=void 0,a)}function w(){var e=z(),o=v(e);if(n=arguments,i=this,c=e,o){if(void 0===s)return f(c);if(u)return clearTimeout(s),s=setTimeout(g,t),p(c)}return void 0===s&&(s=setTimeout(g,t)),a}return t=b(t)||0,h(o)&&(d=!!o.leading,r=(u="maxWait"in o)?k(b(o.maxWait)||0,t):r,m="trailing"in o?!!o.trailing:m),w.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=c=i=s=void 0},w.flush=function(){return void 0===s?a:y(z())},w}((function(){this.scrollY=window.scrollY,this.navOpacity=this.sgn(0,Math.min(1,Math.max(0,window.scrollY/(this.pageHeadHeight()-.8*this.navBarHeight()))));const{navBackground:e,navTitle:t}=this.$refs;this.navOpacity>=1?(e.style.opacity="1",t.style.opacity=1):(e.style.opacity="0",t.style.opacity="0"),this.activeAnchor=this.tocSpy()}),16),tocSpy(){if(0===this.anchors.length)return"";let e=window.pageYOffset,t=null;return this.anchors.forEach((o=>{let n=o.offsetTop;e+o.scrollHeight>=n&&(t=o.id)})),t?"#"+t:""},initToc(){this.hasToc=!0,this.tocData=window.tocObj,this.anchors=document.querySelectorAll(".post-body h1,h2,h3,h4,h5,h6");let e=window.matchMedia("screen and (max-width:1020px");e.addEventListener("change",(e=>{this.isMobile=e.matches})),this.isMobile=e.matches},initServiceWorker(){const e=new oe(sw_path);e.addEventListener("message",(e=>{"CACHE_UPDATED"===e.data.type&&this.$notify({title:"发现新版本",message:"发现新版本，点击更新",duration:0,onClick:()=>{window.navigator.reload()}})})),e.register()},handleResize(){const{extraContainer:e,streamContainer:t}=this.$refs;e.style.left=t.offsetWidth-e.offsetWidth+"px"},navBarHeight(){return this.$refs.navBar.offsetHeight},pageHeadHeight(){return this.$refs.pageHead.offsetHeight},toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,document.getElementsByTagName("html")[0].style.overflow=this.isDrawerOpen?"hidden":"unset"},switchTheme(e){this.isDarkMode="light"!==e,window.localStorage.setItem("theme",e),window.document.documentElement.setAttribute("data-theme",e)},updateZoom(){U&&setTimeout((()=>{this.zoom&&this.zoom.detach(),this.zoom=U(".post-body img",{})}),1e3)}},created(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize),window._nonDesktop=function(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series([46])0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ \-\/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ \/])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e};let e=window.localStorage.getItem("theme");e&&(window.document.documentElement.setAttribute("data-theme",e),"dark"===e&&(this.isDarkMode=!0))},mounted(){(window.tocObj||void 0)&&this.initToc(),(window.sw_path||void 0)&&this.initServiceWorker(),this.updateZoom(),this.handleScroll(),this.handleResize(),this.mounted=!0,"true"===document.body.dataset.enableValine&&new Valine({el:"#vcomments",appId:document.body.dataset.valineAppid,appKey:document.body.dataset.valineAppkey,requiredFields:["nick","mail"],enableQQ:!0,recordIP:!0})},updated(){this.updateZoom()},unmounted(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)}});de.component(j.name,j),de.use(le),de.mount("#app")}(Vue);
